/*
 *  @file Loads the AGL config file and returns settings from it.
 *  @author Matt Lambert
 */

'use strict';
//==============================================================================
//  Modules
//==============================================================================

var path     = require('path');
var nconf    = require('nconf');
var validate = require('validate.js');

//==============================================================================
//  Public functions
//==============================================================================

/*  public object LoadConfig(config)
 *
 *  Loads settings from config.json file.
 *
 *  @param {String} config - setting to load
 *
 *  @return {?} object or single value from config file
 */
module.exports.LoadConfig = function (config) {

	nconf.file(path.join(__dirname, '../../config.json'));

	var settings = nconf.get(config);
	if (validate.isDefined(settings)) {
		throw new Error("Failed to load '" + config + "' from config file");
	}

	return settings;
}; 
